"use strict";(self.webpackChunkpicsta=self.webpackChunkpicsta||[]).push([[785],{82332:function(e,n,t){t.d(n,{qb:function(){return i},fR:function(){return o},Yr:function(){return s},x1:function(){return a},NI:function(){return l},B9:function(){return c},u_:function(){return u}});var r=t(85019),i=function(e){return(0,r.rw)("/post/CreatePost",e)},o=function(e){return(0,r.gz)("/post/DeletePost/".concat(e))},s=function(e){return(0,r.v_)("/post/CreateComment",e)},a=function(e){return(0,r.U2)("/post/GetAllPost",e)},l=function(e){return(0,r.U2)("/post/GetPostByTitle",e)},c=function(e){return(0,r.v_)("/post/SharePost/".concat(e))},u=function(e){return(0,r.U2)("/post/GetPostById/".concat(e))}},67565:function(e,n,t){t.d(n,{Zn:function(){return i},R0:function(){return o},yS:function(){return s}});var r=t(85019),i=function(e){return(0,r.v_)("/report/CreateReport",e)},o=function(e){return(0,r.v_)("/report/CreateReportUser",e)},s=function(){return(0,r.U2)("/report/GetAllReports")}},51785:function(e,n,t){t.r(n),t.d(n,{default:function(){return X}});var r=t(1413),i=t(15861),o=t(70885),s=t(64687),a=t.n(s),l=t(29466),c=t(97890),u=t(47313),d=t(34032),x=t(43265),h=t(73428),m=t(9019),p=t(16957),f=t(93405),v=t(35898),j=t(47131),Z=t(66212),g=t(69099),b=t(61113),y=t(48119),w=t(15082),C=t(57829),k=t(51405),P=t(11338),S=t(71361),O=t(48310),R=t(67216),I=t(83213),U=(t(76221),t(42593)),z=t(46417);function L(e){var n=e.items;return(0,z.jsx)(C.Z,{sx:{pt:3,px:2,pb:5},children:(0,z.jsx)(O.Z,{disablePadding:!0,children:null!==n&&void 0!==n&&n.length&&n.length?n.map((function(e){return(0,z.jsx)(E,{comment:e},null===e||void 0===e?void 0:e.id)})):(0,z.jsx)(b.Z,{children:"No comments yet, leave some comments below"})})})}function E(e){var n=e.comment,t=n.fullName,r=n.content,i=n.createdAt;return(0,z.jsx)(z.Fragment,{children:(0,z.jsx)(R.ZP,{disableGutters:!0,sx:{mb:5},children:(0,z.jsx)(C.Z,{sx:{mr:2,display:"flex",alignItems:"center",mb:{xs:2,sm:0},textAlign:{sm:"center"}},children:(0,z.jsx)(I.Z,{primary:t,primaryTypographyProps:{variant:"subtitle1"},secondary:(0,z.jsxs)("div",{style:{textAlign:"left"},children:[(0,z.jsx)(b.Z,{gutterBottom:!0,variant:"caption",sx:{display:"block",color:"text.disabled"},children:i}),(0,z.jsx)(b.Z,{component:"span",variant:"body2",children:r})]})})})})})}var D=t(47225),F=t(28100),W=t(6473),A=t(1432),H=t(75627),T=t(51406),B=t(48175),_=t(24244),N=t(67565);function G(e){var n=e.id,t=e.onClose,r=(0,c.s0)(),s=(0,d.Ds)().enqueueSnackbar,l=W.Ry().shape({isSpam:W.O7(),isSexualized:W.O7(),isSelfHarm:W.O7(),isDangerous:W.O7(),isHarassment:W.O7(),isPrivacy:W.O7(),isIntellectual:W.O7()}).test("at-least-one-true","You must report at least one issue",(function(e){return Object.values(e).some(Boolean)})),u=(0,H.cI)({resolver:(0,A.X)(l),defaultValues:{isSpam:!1,isSexualized:!1,isSelfHarm:!1,isDangerous:!1,isHarassment:!1,isPrivacy:!1,isIntellectual:!1}}),x=u.getValues,p=u.handleSubmit,f=u.formState.isSubmitting;var j=function(){var e=(0,i.Z)(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=x(),(0,N.Zn)({postId:n,reason:(i=t,Object.entries(i).filter((function(e){var n=(0,o.Z)(e,2);return n[0],n[1]})).map((function(e){return(0,o.Z)(e,1)[0]})).map((function(e){return e.replace(/^is/,"")})).map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(", "))}).then((function(){s("Report successful!"),r(B.v.root,{replace:!0})})).catch((function(e){s("Unable to report: ".concat(e),{variant:"error"})}));case 2:case"end":return e.stop()}var i}),e)})));return function(){return e.apply(this,arguments)}}();return(0,z.jsx)(z.Fragment,{children:(0,z.jsx)(_.RV,{methods:u,onSubmit:p(j),children:(0,z.jsxs)(h.Z,{sx:{p:3},children:[(0,z.jsxs)(m.ZP,{container:!0,spacing:1,sx:{pt:2},children:[(0,z.jsx)(m.ZP,{item:!0,xs:12,children:(0,z.jsx)(b.Z,{variant:"h5",children:"REPORT PIN"})}),(0,z.jsxs)(m.ZP,{item:!0,xs:12,children:[(0,z.jsx)(_.jb,{name:"isSpam",label:(0,z.jsx)(b.Z,{variant:"h6",children:"Spam"})}),(0,z.jsx)(b.Z,{variant:"body2",sx:{ml:4},children:"Misleading or Repetitive"})]}),(0,z.jsxs)(m.ZP,{item:!0,xs:12,children:[(0,z.jsx)(_.jb,{name:"isSexualized",label:(0,z.jsx)(b.Z,{variant:"h6",children:"Sexualized Content"})}),(0,z.jsx)(b.Z,{variant:"body2",sx:{ml:4},children:"Sexualized explicit content involving adults or nudity, non-nudity or intentional missuse involving minors"})]}),(0,z.jsxs)(m.ZP,{item:!0,xs:12,children:[(0,z.jsx)(_.jb,{name:"isSelfHarm",label:(0,z.jsx)(b.Z,{variant:"h6",children:"Self-Harm"})}),(0,z.jsx)(b.Z,{variant:"body2",sx:{ml:4},children:"Self-harm or Suicide"})]}),(0,z.jsxs)(m.ZP,{item:!0,xs:12,children:[(0,z.jsx)(_.jb,{name:"isDangerous",label:(0,z.jsx)(b.Z,{variant:"h6",children:"Dangerous Content"})}),(0,z.jsx)(b.Z,{variant:"body2",sx:{ml:4},children:"Drugs, Weapons, Regulated Products"})]}),(0,z.jsxs)(m.ZP,{item:!0,xs:12,children:[(0,z.jsx)(_.jb,{name:"isHarassment",label:(0,z.jsx)(b.Z,{variant:"h6",children:"Harrasment or Criticism"})}),(0,z.jsx)(b.Z,{variant:"body2",sx:{ml:4},children:"Insults, Threats, non-consensual content"})]}),(0,z.jsxs)(m.ZP,{item:!0,xs:12,children:[(0,z.jsx)(_.jb,{name:"isPrivacy",label:(0,z.jsx)(b.Z,{variant:"h6",children:"Privacy Violation"})}),(0,z.jsx)(b.Z,{variant:"body2",sx:{ml:4},children:"Personal Information included"})]}),(0,z.jsxs)(m.ZP,{item:!0,xs:12,children:[(0,z.jsx)(_.jb,{name:"isIntellectual",label:(0,z.jsx)(b.Z,{variant:"h6",children:"Intellectual Property"})}),(0,z.jsx)(b.Z,{variant:"body2",sx:{ml:4},children:"Copyright or Trademark infringement"})]})]}),(0,z.jsx)(v.Z,{spacing:3,children:(0,z.jsxs)(v.Z,{direction:"row",spacing:1.5,sx:{mt:3},children:[(0,z.jsx)(g.Z,{fullWidth:!0,onClick:t,color:"inherit",variant:"outlined",size:"large",children:"Cancel"}),(0,z.jsx)(T.Z,{fullWidth:!0,type:"submit",variant:"contained",size:"large",loading:f,children:"Submit"})]})})]})})})}var Y=t(71640),V=t(82332),q=t(85019),M=function(e,n){return(0,q.v_)("/relationship/Follow/".concat(e,"?action=").concat(n))},K=t(62677);function X(){var e,n,t=(0,d.Ds)().enqueueSnackbar,r=(0,c.s0)(),s=(0,c.UO)().id,k=(0,P.Z)().themeStretch,O=((0,c.UO)().name,(0,u.useState)({})),R=(0,o.Z)(O,2),I=R[0],E=R[1],F=(0,u.useState)(!1),W=(0,o.Z)(F,2),A=W[0],H=W[1],T=(0,u.useState)(!1),_=(0,o.Z)(T,2),N=_[0],q=_[1],X=(0,u.useState)(!1),Q=(0,o.Z)(X,2),$=Q[0],ee=Q[1],ne=(0,u.useState)(""),te=(0,o.Z)(ne,2),re=te[0],ie=te[1],oe=(0,u.useState)(!1),se=(0,o.Z)(oe,2),ae=se[0],le=se[1];(0,u.useEffect)((0,i.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,V.u_)(s).then((function(e){E(e.data)}));case 1:case"end":return e.stop()}}),e)}))),[]);var ce=function(){var e=(0,i.Z)(a().mark((function e(){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=N?"UNFOLLOW":"FOLLOW",e.prev=1,e.next=4,M(s,n);case 4:q((function(e){return!e})),t("FOLLOW"===n?"You are now following":"You have unfollowed"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.error("Error toggling follow:",e.t0),t("Error toggling follow",{variant:"error"});case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),ue=function(){var e=(0,i.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{le(!ae)}catch(n){console.error("Error click like:",n)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),de=function(){var e=(0,i.Z)(a().mark((function e(){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,""===re.trim()){e.next=10;break}return n={postId:s,comment:re},e.next=5,(0,V.Yr)(n);case 5:r(0),t("Comment created successfully."),ie(""),e.next=11;break;case 10:t("Please enter a comment.",{variant:"error"});case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),console.error("Error creating comment:",e.t0),t("Error creating comment.",{variant:"error"});case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();return(0,z.jsxs)(S.Z,{title:"Pic Detail",children:[(0,z.jsx)(x.Z,{maxWidth:!k&&"lg",children:I?(0,z.jsx)(z.Fragment,{children:(0,z.jsx)(h.Z,{children:(0,z.jsxs)(m.ZP,{container:!0,children:[(0,z.jsx)(m.ZP,{item:!0,xs:6,children:(0,z.jsx)(p.Z,{component:"img",image:null===I||void 0===I?void 0:I.imageUrl,alt:"Image"})}),(0,z.jsx)(m.ZP,{item:!0,xs:6,children:(0,z.jsxs)(f.Z,{style:{height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[(0,z.jsxs)("div",{children:[(0,z.jsxs)(v.Z,{sx:{mb:6},direction:"row",justifyContent:"space-between",alignItems:"center",children:[(0,z.jsxs)("div",{children:[(0,z.jsx)(J,{handleClickReport:function(){ee(!0)}}),(0,z.jsx)(j.Z,{onClick:function(){(0,V.B9)(s).then((function(e){t(e.message),r(B.v.root)}))},children:(0,z.jsx)(U.Z,{icon:"material-symbols:upload",width:24,height:24})}),(0,z.jsx)(j.Z,{onClick:function(){navigator.clipboard.writeText(I.imageUrl).then((function(){H(!0),setTimeout((function(){H(!1)}),3e3)})).catch((function(e){console.error("Unable to copy to clipboard:",e)}))},children:(0,z.jsx)(U.Z,{icon:"bx:link",width:24,height:24})}),A&&(0,z.jsx)(Z.Z,{label:"Copied to clipboard!",color:"primary"})]}),(0,z.jsx)(g.Z,{onClick:function(){fetch(I.imageUrl).then((function(e){return e.blob()})).then((function(e){var n=window.URL.createObjectURL(new Blob([e])),t=document.createElement("a");t.href=n,t.setAttribute("download","downloaded_image.png"),document.body.appendChild(t),t.click(),document.body.removeChild(t),window.URL.revokeObjectURL(n)})).catch((function(e){console.error("Error downloading image:",e)}))},variant:"contained",color:"primary",children:"Save"})]}),(0,z.jsx)(b.Z,{sx:{mt:5},variant:"h4",children:null===I||void 0===I?void 0:I.title}),(0,z.jsx)(b.Z,{sx:{mt:2,mb:5},children:null===I||void 0===I?void 0:I.description}),(0,z.jsxs)(m.ZP,{container:!0,alignItems:"center",justifyContent:"space-between",spacing:2,children:[(0,z.jsxs)(m.ZP,{item:!0,style:{display:"flex",alignItems:"center"},children:[(0,z.jsx)(y.Z,{sx:{mr:2},src:null===I||void 0===I||null===(e=I.user)||void 0===e?void 0:e.avatar,alt:"Avatar"}),(0,z.jsx)("div",{children:(0,z.jsx)(b.Z,{variant:"h6",children:null===I||void 0===I||null===(n=I.dataResponseUser)||void 0===n?void 0:n.fullName})})]}),(0,z.jsx)(m.ZP,{item:!0,children:(0,z.jsx)(g.Z,{variant:"contained",color:N?"secondary":"primary",onClick:ce,children:N?"Unfollow":"Follow"})})]}),(0,z.jsx)(b.Z,{sx:{mt:5},variant:"h6",children:"Comments"}),(0,z.jsx)(K.Z,{children:(0,z.jsx)(L,{items:I.dataResponseComments})})]}),(0,z.jsxs)("div",{children:[(0,z.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,z.jsxs)(b.Z,{variant:"h6",children:[null===I||void 0===I?void 0:I.numberOfComments," comments"]}),(0,z.jsx)(g.Z,{size:"small",startIcon:(0,z.jsx)(U.Z,{icon:"icon-park-solid:like"}),onClick:ue,children:ae?(null===I||void 0===I?void 0:I.numberOfLikes)+1:null===I||void 0===I?void 0:I.numberOfLikes})]}),(0,z.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[(0,z.jsx)(w.Z,{variant:"outlined",label:"Write your comment",fullWidth:!0,margin:"normal",style:{flex:"1"},value:re,onChange:function(e){return ie(e.target.value)}}),(0,z.jsx)(g.Z,{sx:{ml:2},variant:"contained",color:"primary",onClick:de,children:"Send"})]})]})]})})]})})}):(0,z.jsxs)(C.Z,{sx:{maxWidth:480,margin:"auto",textAlign:"center"},children:[(0,z.jsx)(b.Z,{variant:"h3",paragraph:!0,children:"Pic Not Found."}),(0,z.jsx)(b.Z,{sx:{color:"text.secondary"},children:"This Pic might be deleted"}),(0,z.jsx)(D.CE,{sx:{height:260,my:{xs:5,sm:10}}}),(0,z.jsx)(g.Z,{to:"/",size:"large",variant:"contained",component:l.OL,children:"Go to Home"})]})}),(0,z.jsx)(Y.Kl,{open:$,title:"Report Pin",children:(0,z.jsx)(G,{id:null===I||void 0===I?void 0:I.id,onClose:function(){return ee(!1)},callback:function(){ee(!1)}})})]})}function J(e){var n=e.handleClickReport,t=(0,u.useState)(null),i=(0,o.Z)(t,2),s=i[0],a=i[1];return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(j.Z,{size:"large",onClick:function(e){a(e.currentTarget)},children:(0,z.jsx)(U.Z,{icon:"eva:more-horizontal-fill",width:20,height:20})}),(0,z.jsx)(F.Z,{open:Boolean(s),anchorEl:s,onClose:function(){a(null)},anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"right"},arrow:"right-top",sx:{mt:-.5,width:"auto","& .MuiMenuItem-root":{px:1,typography:"body2",borderRadius:.75}},children:(0,z.jsxs)(k.Z,{sx:{color:"error.main"},onClick:n,children:[(0,z.jsx)(U.Z,{icon:"ic:round-report",sx:(0,r.Z)({},{mr:2,width:20,height:20})}),"Report"]})})]})}}}]);